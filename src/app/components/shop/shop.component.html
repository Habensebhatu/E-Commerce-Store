<div class="py-12 border-t border-b border-f1f1f2 bg-[#F4F5F7]">
    <div class="mx-auto px-4">
        <div class="flex justify-center items-center">
            <nav class="breadcrumb flex space-x-2">
                <a class="breadcrumb-item text-gray-600 text-sm" href="index.html">Home</a>
                <span class="material-icons text-gray-600 my-0 mx-1 -mt-1">chevron_right</span>
                <span class="breadcrumb-item text-red-500 font-medium text-sm">Shop</span>
            </nav>
        </div>
    </div>
</div>

<div class="mx-auto px-4 max-w-screen-xl mt-24">
    <div class="flex flex-wrap -mx-4">
        <div class="w-full sm:w-full md:w-full lg:w-3/4 lg:order-2 px-4">
            <div class="shop-wrapper">
                <div class="flex flex-wrap -mx-4">
                    <div class="w-full sm:w-full md:w-full px-4">
                        <h1 class="text-lg leading-6 font-medium tracking-tight capitalize mb-5">Shop</h1>
                        <div class="flex justify-between flex-wrap">
                            <div class="flex justify-between items-center flex-wrap">
                                <div class="flex items-center pr-5">
                                    <ul class="flex">
                                        <li class="mr-5">
                                            <a (click)="toggleView('grid')"
                                                [ngClass]="{'active': activeView === 'grid'}">
                                                <mat-icon class="mt-2">grid_on</mat-icon>
                                            </a>
                                        </li>
                                        <li>
                                            <a (click)="toggleView('list')"
                                                [ngClass]="{'active': activeView === 'list'}">
                                                <mat-icon class="mt-2">list</mat-icon>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="text-base">
                                    <span>Showing 10 to 18 of 27</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>


                <div class="flex flex-wrap -mx-4 mt-4">
                    <div class="w-full sm:w-full md:w-full px-4">
                        <div class="shop-products-wrapper">
                            <div class="tab-content">
                                <div *ngIf="activeView === 'grid'" class="tab-pane anime-tab active show"
                                    role="tabpanel">
                                    <div class="flex flex-wrap -mx-4">
                                        <div class="container mx-auto px-4 py-6">
                                            <div class="grid grid-cols-3 gap-4">
                                                <div *ngFor="let product of products">
                                                    <article
                                                        class="wish-product relative shadow-lg transition-all duration-300">
                                                        <div class="product-image relative">
                                                            <a>
                                                                <img [src]="product.imageUrls[0].file"
                                                                    class="w-full h-64 object-cover " />
                                                            </a>
                                                            <div
                                                                class="absolute top-0 left-0 w-full h-full bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300">
                                                                <button (click)="onAddToCart(product)"
                                                                    class="mx-2 p-1 bg-white rounded-full">
                                                                    <mat-icon
                                                                        class="text-gray-500">shopping_cart</mat-icon>
                                                                    <i class="addCart-icon"></i>
                                                                </button>
                                                                <button class="mx-2 p-1 bg-white rounded-full"
                                                                    (click)="navigateToProductDetails(product.productId)">
                                                                    <mat-icon
                                                                        class="text-blue-500">visibility</mat-icon>
                                                                </button>
                                                                <div (click)="onAddToWishlist(product.productId)"
                                                                    class="mx-2 p-1 bg-white rounded-full hover:text-white cursor-pointer">
                                                                    <mat-icon *ngIf="!isInWishlist(product.productId)"
                                                                        aria-hidden="false"
                                                                        aria-label="Example heart icon"
                                                                        class="hover:bg-red-500 ">favorite_border</mat-icon>
                                                                    <mat-icon *ngIf="isInWishlist(product.productId)"
                                                                        aria-hidden="false"
                                                                        aria-label="Example heart icon"
                                                                        class="text-red-500">favorite</mat-icon>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="product-caption mt-4">
                                                            <div class="flex justify-between items-center">
                                                                <div class="product-manufacturer">
                                                                    <p>{{product.categoryName}}</p>
                                                                </div>
                                                            </div>
                                                            <h4 class="product-name mt-2">
                                                                <p>{{product.title}}</p>
                                                            </h4>
                                                            <p class="product-price mt-2">
                                                                <span>€{{ product.price }}</span>
                                                            </p>
                                                        </div>
                                                    </article>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="activeView === 'list'" class="tab-pane anime-tab" role="tabpanel">

                                    <div *ngFor="let product of  products">
                                        <article
                                            class="wish-product flex py-4 items-start hover:shadow-2xl transition-all duration-300 relative p-4 mt-4 mb-4">

                                            <div class="w-1/4 pr-4 relative">
                                                <img [src]="product.imageUrls[0].file"
                                                    class="w-full object-cover h-60 hover:opacity-50" />


                                                <div
                                                    class="absolute top-0 left-0 w-full h-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300">
                                                    <button (click)="onAddToCart(product)"
                                                        class="mx-2 p-1 bg-white rounded-full">
                                                        <mat-icon class="text-gray-500">shopping_cart</mat-icon>
                                                    </button>
                                                    <button class="mx-2 p-1 bg-white rounded-full"
                                                        (click)="navigateToProductDetails(product.productId)">
                                                        <mat-icon class="text-blue-500">visibility</mat-icon>
                                                    </button>
                                                    <div (click)="onAddToWishlist(product.productId)"
                                                        class="mx-2 p-1 bg-white rounded-full hover:text-white cursor-pointer">
                                                        <mat-icon *ngIf="!isInWishlist(product.productId)"
                                                            aria-hidden="false" aria-label="Example heart icon"
                                                            class="hover:bg-red-500 ">favorite_border</mat-icon>
                                                        <mat-icon *ngIf="isInWishlist(product.productId)"
                                                            aria-hidden="false" aria-label="Example heart icon"
                                                            class="text-red-500">favorite</mat-icon>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="w-3/4 flex flex-col justify-between">
                                                <div>
                                                    <p>{{product.categoryName}}</p>
                                                    <h4 class="product-name mt-2">{{product.title}}</h4>
                                                    <p class="product-price mt-2 mb-4">€{{ product.price }}</p>
                                                    <p class="mt-4 border-t pt-4 text-gray-600">{{"Nunc facilisis
                                                        sagittis ullamcorper. Proin lectus ipsum, gravida et mattis
                                                        vulputate, tristique ut lectus. Sed et lorem nunc. Vestibulum
                                                        ante ipsum primis in faucibus orci luctus et ultrices posuere
                                                        cubilia Curae; Aenean eleifend "}}</p>
                                                    <!-- Increased mt- and pt- values -->
                                                </div>

                                            </div>
                                        </article>
                                    </div>


                                </div>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-4">
                            <div class="pt-5 mt-[20px] border-t border-gray-300 w-full">
                                <div class="flex justify-between">
                                    <div class="text-sm mt-4">
                                        <p>Showing 10 to 18 of 27 (3 Pages)</p>
                                    </div>
                                    <ul class="flex items-center space-x-2">
                                        <li class="flex-1 text-left">
                                            <a href="#" class="text-sm flex items-center">
                                                <mat-icon>chevron_left</mat-icon>
                                                <span>Previous</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="text-sm">1</a>
                                        </li>
                                        <li>
                                            <span class="text-lg cursor-default">2</span>
                                        </li>
                                        <li>
                                            <a href="#" class="text-sm">3</a>
                                        </li>
                                        <li class="flex-1 text-right">
                                            <a href="#" class="text-sm flex items-center justify-end">
                                                <span>Next</span>
                                                <mat-icon>chevron_right</mat-icon>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="w-full sm:w-full md:w-full lg:w-1/4 lg:order-1 px-4">

            <div class="mb-8 pb-8 border-b border-gray-300 ">
                <h2 class="text-lg leading-6 font-medium tracking-tight capitalize mb-5">Categories</h2>
                <div class="space-y-2">
                    <a *ngFor="let category of categories" (click)="OnshowCategoty(category.name)"
                        class="flex items-center transition-colors duration-700"
                        [ngClass]="{'hover:text-red-600': category.name !== selectedCategory, 'text-red-600': category.name === selectedCategory }">
                        <span
                            class="mr-2.5 w-4 h-4 p-0.5 inline-block border border-gray-300 text-transparent flex items-center justify-center"
                            [ngClass]="{'hover:border-red-600 hover:bg-red-600 hover:text-white': category.name !== selectedCategory, 'border-red-600 bg-red-600 text-white': category.name === selectedCategory }">✓</span>
                        {{ category.name }}
                    </a>
                </div>
            </div>

            <div class="mb-8 pb-8 border-b border-gray-300">
                <h2 class="text-lg leading-6 font-medium tracking-tight capitalize mb-5">Price</h2>
                <div class="space-y-2">
                    <a *ngFor="let price of prices" 
                       (click)="OnfillterProductsBYPrice(price)"
                       class="flex items-center transition-colors duration-700"
                       [ngClass]="{'hover:text-red-600': price !== selectedPrice, 'text-red-600': price === selectedPrice }">
                        <span class="mr-2.5 w-4 h-4 p-0.5 inline-block border border-gray-300 text-transparent flex items-center justify-center" 
                              [ngClass]="{'hover:border-red-600 hover:bg-red-600 hover:text-white': price !== selectedPrice, 'border-red-600 bg-red-600 text-white': price === selectedPrice }">✓</span>
                        {{ price }}
                    </a>
                </div>
            </div>
            
            
        </div>
    </div>